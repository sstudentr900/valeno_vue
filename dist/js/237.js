"use strict";(self["webpackChunkvaleno_vue"]=self["webpackChunkvaleno_vue"]||[]).push([[237],{1237:function(e,s,t){t.r(s),t.d(s,{default:function(){return Fe}});var i=t(3396);const a={class:"product_view"},n={class:"product"},l={class:"public_flex"},c={class:"slideDiv"};function d(e,s,t,d,u,r){const m=(0,i.up)("imgZoom"),o=(0,i.up)("imgSlide"),p=(0,i.up)("productText"),_=(0,i.up)("similars"),v=(0,i.up)("tabs"),g=(0,i.up)("recommend");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",n,[(0,i._)("div",l,[(0,i._)("div",c,[(0,i.Wm)(m,{item:e.itemData.productImgs},null,8,["item"]),(0,i.Wm)(o,{item:e.itemData.productImgs},null,8,["item"])]),(0,i.Wm)(p,{item:e.itemData},null,8,["item"])])]),(0,i.Wm)(_,{items:e.linkListData},null,8,["items"]),(0,i.Wm)(v,{item:e.itemData},null,8,["item"]),(0,i.Wm)(g,{items:e.recommendListData},null,8,["items"])])}const u={class:"preview"},r=["src"],m={class:"big"},o=["src"],p={class:"mask",ref:"mask"};function _(e,s,t,a,n,l){return(0,i.wg)(),(0,i.iD)("div",u,[t.item?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"mainImg",src:t.item[n.nowImageIndex],alt:""},null,8,r)):(0,i.kq)("",!0),(0,i._)("div",{class:"event",onMousemove:s[0]||(s[0]=(...e)=>l.handler&&l.handler(...e))},null,32),(0,i._)("div",m,[t.item?((0,i.wg)(),(0,i.iD)("img",{key:0,src:t.item[n.nowImageIndex],alt:"",ref:"bigImg"},null,8,o)):(0,i.kq)("",!0)]),(0,i._)("div",p,null,512)])}var v={name:"imgZoom",props:["item"],data(){return{nowImageIndex:0}},beforeUnmount(){this.eventBus.off("getIndex")},mounted(){this.eventBus.on("getIndex",(e=>{this.nowImageIndex=e}))},computed:{},methods:{handler(e){let s=this.$refs.mask,t=this.$refs.bigImg,i=e.offsetX-s.offsetWidth/2,a=e.offsetY-s.offsetHeight/2;i<=0&&(i=0),i>=s.offsetWidth&&(i=s.offsetWidth),a<=0&&(a=0),a>=s.offsetHeight&&(a=s.offsetWidth),s.style.left=i+"px",s.style.top=a+"px",t.style.left=-2*i+"px",t.style.top=-2*a+"px"}}},g=t(89);const h=(0,g.Z)(v,[["render",_],["__scopeId","data-v-40202534"]]);var f=h,k=t(7139);const w=e=>((0,i.dD)("data-v-c9ae7e52"),e=e(),(0,i.Cn)(),e),I={class:"swiper",ref:"cur"},x={class:"swiper-wrapper"},D=["onClick"],b=["src"],C=w((()=>(0,i._)("div",{class:"swiper-button-next"},null,-1))),y=w((()=>(0,i._)("div",{class:"swiper-button-prev"},null,-1)));function N(e,s,t,a,n,l){return(0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.item,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:(0,k.C_)(["swiper-slide",{active:n.nowImageIndex==s}]),onClick:e=>l.changeImageIndex(s)},[(0,i._)("img",{src:e,alt:""},null,8,b)],10,D)))),128))]),C,y],512)}var A=t(9231),S={name:"imgSlide",props:["item"],data(){return{nowImageIndex:0}},methods:{changeImageIndex(e){this.nowImageIndex=e,console.log(this.eventBus),this.eventBus.emit("getIndex",e)}},watch:{item(e,s){this.$nextTick((()=>{new A.ZP(this.$refs.cur,{modules:[A.W_],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:5,slidesPerGroup:1})}))}}};const L=(0,g.Z)(S,[["render",N],["__scopeId","data-v-c9ae7e52"]]);var q=L,W=t(9242);const Z=e=>((0,i.dD)("data-v-a8f1b25e"),e=e(),(0,i.Cn)(),e),M={key:0,class:"productText"},$={class:"title"},z=Z((()=>(0,i._)("div",{class:"t"},"商品描述",-1))),H={class:"c"},T={class:"public_flex"},O=Z((()=>(0,i._)("div",{class:"t"},"規格",-1))),V={class:"c"},Y={key:0,class:"specs"},B=["onClick"],U={class:"public_flex"},E=Z((()=>(0,i._)("div",{class:"t"},"數量",-1))),K={class:"c"},P={class:"public_qty"},R=Z((()=>(0,i._)("span",null,"-",-1))),X=[R],F=Z((()=>(0,i._)("span",null,"+",-1))),J=[F],j={class:"public_flex"},G=Z((()=>(0,i._)("div",{class:"t"},"促銷價",-1))),Q={key:0,class:"c price"},ee={class:"p-after"},se={key:0,class:"before"},te=(0,i.Uk)(" 原價 "),ie={class:"p-before"},ae={class:"public_flex"},ne=(0,i.Uk)("加入購物車 "),le=Z((()=>(0,i._)("span",{class:"icon"},[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,i._)("path",{d:"M12 4.419c-2.826-5.695-11.999-4.064-11.999 3.27 0 7.27 9.903 10.938 11.999 15.311 2.096-4.373 12-8.041 12-15.311 0-7.327-9.17-8.972-12-3.27z"})])],-1))),ce=[ne,le];function de(e,s,t,a,n,l){return t.item?((0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("h2",$,(0,k.zw)(t.item.ti),1),(0,i._)("ul",null,[(0,i._)("li",null,[z,(0,i._)("div",H,(0,k.zw)(t.item.describe),1)]),(0,i._)("li",null,[(0,i._)("div",T,[O,(0,i._)("div",V,[t.item.specification?((0,i.wg)(),(0,i.iD)("div",Y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.item.specification.list,((e,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:(0,k.C_)({active:s==n.specIndex}),onClick:e=>l.specIndexChange(s)},(0,k.zw)(e.name),11,B)))),128))])):(0,i.kq)("",!0)])]),(0,i._)("div",U,[E,(0,i._)("div",K,[(0,i._)("div",P,[(0,i._)("div",{title:"減少數量",class:"qty-minus link",onClick:s[0]||(s[0]=(...e)=>l.skuReduce&&l.skuReduce(...e))},X),(0,i.wy)((0,i._)("input",{type:"text","data-min":"1","onUpdate:modelValue":s[1]||(s[1]=e=>n.skuNum=e),onChange:s[2]||(s[2]=(...e)=>l.skuChange&&l.skuChange(...e))},null,544),[[W.nr,n.skuNum]]),(0,i._)("div",{title:"增加數量",class:"qty-plus link",onClick:s[3]||(s[3]=(...e)=>l.skuAdd&&l.skuAdd(...e))},J)])])])]),(0,i._)("li",null,[(0,i._)("div",j,[G,t.item.specification?((0,i.wg)(),(0,i.iD)("div",Q,[(0,i._)("span",ee,(0,k.zw)(l.special_price),1),t.item.specification?((0,i.wg)(),(0,i.iD)("p",se,[te,(0,i._)("span",ie,(0,k.zw)(l.price),1)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),(0,i._)("div",ae,[(0,i._)("div",{onClick:s[4]||(s[4]=(...e)=>l.addShopcar&&l.addShopcar(...e)),class:"addCartButton"},ce)])])])])):(0,i.kq)("",!0)}var ue=t(65),re={name:"productText",props:["item"],data(){return{skuNum:1,specIndex:0}},computed:{price(){return this.item.specification.list[this.specIndex].price||""},special_price(){return this.item.specification.list[this.specIndex].special_price||""}},methods:{specIndexChange(e){this.specIndex=e},skuAdd(e){this.skuNum+=1},skuReduce(e){this.skuNum>1?this.skuNum-=1:this.skuNum=1},skuChange(e){let s=1*e.target.value;isNaN(s)||s<0?this.skuNum=1:this.skuNum=parseInt(s)},...(0,ue.OI)("shopCar",{listAdd:"listAddMu"}),addShopcar(){let e={...this.item,skuNum:this.skuNum};e["specification"]["specIndex"]=this.specIndex,this.listAdd(e),this.$notify({title:"訊息通知",message:"商品已加入購物車",type:"success"})},addShopcarXX(){let e=[{...this.item,skuNum:this.skuNum}];if(sessionStorage.getItem("skuList")){let s=JSON.parse(sessionStorage.getItem("skuList")).map((s=>(s["id"]==e[0]["id"]&&(s["skuNum"]+=e[0]["skuNum"],e=!1),s)));e=e?s.concat(e):s}sessionStorage.setItem("skuList",JSON.stringify(e)),this.$emit("promptIfValue",!0)}}};const me=(0,g.Z)(re,[["render",de],["__scopeId","data-v-a8f1b25e"]]);var oe=me;const pe=e=>((0,i.dD)("data-v-bfaa68da"),e=e(),(0,i.Cn)(),e),_e={class:"similars"},ve=pe((()=>(0,i._)("div",{class:"title"},[(0,i._)("span",null,"YOU MAY ALSO LIKE"),(0,i.Uk)("同類商品")],-1))),ge={class:"pic"},he=["src"],fe={class:"column"},ke={class:"tit"},we={class:"sale"},Ie={class:"column"},xe={class:"p-before"},De=pe((()=>(0,i._)("span",{class:"line"},"|",-1))),be={class:"p-after"};function Ce(e,s,t,a,n,l){const c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",_e,[ve,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.items,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},[(0,i.Wm)(c,{to:`/${e.href}/${e.id}`},{default:(0,i.w5)((()=>[(0,i._)("div",ge,[(0,i._)("img",{src:e.src,alt:""},null,8,he)]),(0,i._)("div",fe,[(0,i._)("p",ke,(0,k.zw)(e.ti),1),(0,i._)("p",we,(0,k.zw)(e.sale),1)]),(0,i._)("div",Ie,[(0,i._)("span",xe,(0,k.zw)(e.price),1),De,(0,i._)("span",be,(0,k.zw)(e.special_price),1)])])),_:2},1032,["to"])])))),128))])])}var ye={name:"similars",props:{items:{type:Array,required:!0,default:[]}}};const Ne=(0,g.Z)(ye,[["render",Ce],["__scopeId","data-v-bfaa68da"]]);var Ae=Ne;const Se={key:0,class:"tabs"},Le={class:"items"},qe=["src"],We=["innerHTML"],Ze=["innerHTML"];function Me(e,s,t,a,n,l){return t.item?((0,i.wg)(),(0,i.iD)("div",Se,[(0,i._)("ul",null,[(0,i._)("li",{onClick:s[0]||(s[0]=e=>l.menu(1)),class:(0,k.C_)({active:1==n.itemIndex})},"詳細介紹",2),(0,i._)("li",{onClick:s[1]||(s[1]=e=>l.menu(2)),class:(0,k.C_)({active:2==n.itemIndex})},"使用說明",2),(0,i._)("li",{onClick:s[2]||(s[2]=e=>l.menu(3)),class:(0,k.C_)({active:3==n.itemIndex})},"成分說明",2)]),(0,i._)("div",Le,[(0,i._)("div",{class:(0,k.C_)(["item",{active:1==n.itemIndex}])},[(0,i._)("img",{src:t.item.introduce,alt:""},null,8,qe)],2),(0,i._)("div",{class:(0,k.C_)(["item",{active:2==n.itemIndex}])},[(0,i._)("div",{innerHTML:t.item.illustrate},null,8,We)],2),(0,i._)("div",{class:(0,k.C_)(["item",{active:3==n.itemIndex}])},[(0,i._)("div",{innerHTML:t.item.element},null,8,Ze)],2)])])):(0,i.kq)("",!0)}var $e={name:"tabs",data(){return{itemIndex:1}},props:["item"],methods:{menu(e){console.log(e),this.itemIndex=e}}};const ze=(0,g.Z)($e,[["render",Me],["__scopeId","data-v-0a626cb6"]]);var He=ze;const Te=e=>((0,i.dD)("data-v-5b70956f"),e=e(),(0,i.Cn)(),e),Oe={class:"recommend"},Ve=Te((()=>(0,i._)("h3",{class:"title"},"#RECOMMEND",-1))),Ye={class:"public_flex"};function Be(e,s,t,a,n,l){const c=(0,i.up)("FnProduct");return(0,i.wg)(),(0,i.iD)("div",Oe,[Ve,(0,i._)("div",Ye,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.items,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,item:e},null,8,["item"])))),128))])])}var Ue=t(4375),Ee={name:"recommend",props:{items:{type:Array,required:!0,default:[]}},components:{FnProduct:Ue.Z}};const Ke=(0,g.Z)(Ee,[["render",Be],["__scopeId","data-v-5b70956f"]]);var Pe=Ke,Re={name:"productView",data(){return{promptIf:!1,timeId:null}},mounted(){this.getData()},components:{imgSlide:q,imgZoom:f,productText:oe,similars:Ae,tabs:He,recommend:Pe},computed:{...(0,ue.Se)("productView",["itemData","linkListData","recommendListData"])},methods:{getData(){this.$store.dispatch("productView/productViewAc",this.$route.params)},...(0,ue.OI)("shopCar",{infoAdd:"infoAddMu"})},watch:{$route(e,s){this.getData()},itemData(e,s){this.infoAdd({...this.itemData})}}};const Xe=(0,g.Z)(Re,[["render",d],["__scopeId","data-v-4bde8fb0"]]);var Fe=Xe}}]);