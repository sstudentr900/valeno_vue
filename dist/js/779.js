"use strict";(self["webpackChunkvaleno_vue"]=self["webpackChunkvaleno_vue"]||[]).push([[779],{1779:function(e,t,s){s.r(t),s.d(t,{default:function(){return Fe}});var i=s(3396);const a={class:"product_view"},n={class:"product"},l={class:"public_flex"},c={class:"slideDiv"};function d(e,t,s,d,r,m){const u=(0,i.up)("imgZoom"),o=(0,i.up)("imgSlide"),p=(0,i.up)("productText"),_=(0,i.up)("similars"),v=(0,i.up)("tabs"),g=(0,i.up)("recommend");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",n,[(0,i._)("div",l,[(0,i._)("div",c,[(0,i.Wm)(u,{item:e.itemData.productImgs},null,8,["item"]),(0,i.Wm)(o,{item:e.itemData.productImgs},null,8,["item"])]),(0,i.Wm)(p,{item:e.itemData},null,8,["item"])])]),(0,i.Wm)(_,{items:e.linkListData},null,8,["items"]),(0,i.Wm)(v,{item:e.itemData},null,8,["item"]),(0,i.Wm)(g,{items:e.recommendListData},null,8,["items"])])}const r={class:"preview"},m=["src"],u={class:"big"},o=["src"],p={class:"mask",ref:"mask"};function _(e,t,s,a,n,l){return(0,i.wg)(),(0,i.iD)("div",r,[s.item?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"mainImg",src:s.item[n.nowImageIndex],alt:""},null,8,m)):(0,i.kq)("",!0),(0,i._)("div",{class:"event",onMousemove:t[0]||(t[0]=(...e)=>l.handler&&l.handler(...e))},null,32),(0,i._)("div",u,[s.item?((0,i.wg)(),(0,i.iD)("img",{key:0,src:s.item[n.nowImageIndex],alt:"",ref:"bigImg"},null,8,o)):(0,i.kq)("",!0)]),(0,i._)("div",p,null,512)])}var v={name:"imgZoom",props:["item"],data(){return{nowImageIndex:0}},beforeUnmount(){this.eventBus.off("getIndex")},mounted(){this.eventBus.on("getIndex",(e=>{this.nowImageIndex=e}))},computed:{},methods:{handler(e){console.log(123);let t=this.$refs.mask,s=this.$refs.bigImg,i=e.offsetX-t.offsetWidth/2,a=e.offsetY-t.offsetHeight/2;i<=0&&(i=0),i>=t.offsetWidth&&(i=t.offsetWidth),a<=0&&(a=0),a>=t.offsetHeight&&(a=t.offsetWidth),t.style.left=i+"px",t.style.top=a+"px",s.style.left=-2*i+"px",s.style.top=-2*a+"px"}}},g=s(89);const w=(0,g.Z)(v,[["render",_],["__scopeId","data-v-8cbc0214"]]);var f=w,h=s(7139);const k=e=>((0,i.dD)("data-v-c9ae7e52"),e=e(),(0,i.Cn)(),e),I={class:"swiper",ref:"cur"},x={class:"swiper-wrapper"},b=["onClick"],D=["src"],C=k((()=>(0,i._)("div",{class:"swiper-button-next"},null,-1))),y=k((()=>(0,i._)("div",{class:"swiper-button-prev"},null,-1)));function N(e,t,s,a,n,l){return(0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.item,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,h.C_)(["swiper-slide",{active:n.nowImageIndex==t}]),onClick:e=>l.changeImageIndex(t)},[(0,i._)("img",{src:e,alt:""},null,8,D)],10,b)))),128))]),C,y],512)}var S=s(9231),W={name:"imgSlide",props:["item"],data(){return{nowImageIndex:0}},methods:{changeImageIndex(e){this.nowImageIndex=e,console.log(this.eventBus),this.eventBus.emit("getIndex",e)}},watch:{item(e,t){this.$nextTick((()=>{new S.ZP(this.$refs.cur,{modules:[S.W_],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:5,slidesPerGroup:1})}))}}};const Z=(0,g.Z)(W,[["render",N],["__scopeId","data-v-c9ae7e52"]]);var $=Z,q=s(9242);const z=e=>((0,i.dD)("data-v-3fb7a514"),e=e(),(0,i.Cn)(),e),L={key:0,class:"productText"},H={class:"title"},M=z((()=>(0,i._)("div",{class:"t"},"商品描述",-1))),T={class:"c"},U={class:"public_flex"},V=z((()=>(0,i._)("div",{class:"t"},"規格",-1))),Y={class:"c"},A={class:"public_flex"},B=z((()=>(0,i._)("div",{class:"t"},"數量",-1))),E={class:"c"},P={class:"qty-wrap"},K=z((()=>(0,i._)("span",null,"-",-1))),O=[K],F=z((()=>(0,i._)("span",null,"+",-1))),j=[F],G={class:"public_flex"},R=z((()=>(0,i._)("div",{class:"t"},"促銷價",-1))),X={class:"c price"},J={class:"p-after"},Q={class:"before"},ee=(0,i.Uk)(" 原價 "),te={class:"p-before"},se={class:"public_flex"},ie=(0,i.Uk)("加入購物車 "),ae=z((()=>(0,i._)("span",{class:"icon"},[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,i._)("path",{d:"M12 4.419c-2.826-5.695-11.999-4.064-11.999 3.27 0 7.27 9.903 10.938 11.999 15.311 2.096-4.373 12-8.041 12-15.311 0-7.327-9.17-8.972-12-3.27z"})])],-1))),ne=[ie,ae];function le(e,t,s,a,n,l){return s.item?((0,i.wg)(),(0,i.iD)("div",L,[(0,i._)("h2",H,(0,h.zw)(s.item.ti),1),(0,i._)("ul",null,[(0,i._)("li",null,[M,(0,i._)("div",T,(0,h.zw)(s.item.describe),1)]),(0,i._)("li",null,[(0,i._)("div",U,[V,(0,i._)("div",Y,(0,h.zw)(s.item.specification),1)]),(0,i._)("div",A,[B,(0,i._)("div",E,[(0,i._)("div",P,[(0,i._)("div",{title:"增加數量",class:"qty-minus link",onClick:t[0]||(t[0]=e=>n.skuNum>1?n.skuNum--:n.skuNum=1)},O),(0,i.wy)((0,i._)("input",{id:"quantity",type:"text",name:"email","data-min":"1","data-max":"15","onUpdate:modelValue":t[1]||(t[1]=e=>n.skuNum=e),onChange:t[2]||(t[2]=(...e)=>l.changeSkuNum&&l.changeSkuNum(...e))},null,544),[[q.nr,n.skuNum]]),(0,i._)("div",{title:"減少數量",class:"qty-plus link",onClick:t[3]||(t[3]=e=>n.skuNum++)},j)])])])]),(0,i._)("li",null,[(0,i._)("div",G,[R,(0,i._)("div",X,[(0,i._)("span",J,(0,h.zw)(s.item.special_price),1),(0,i._)("p",Q,[ee,(0,i._)("span",te,(0,h.zw)(s.item.price),1)])])]),(0,i._)("div",se,[(0,i._)("a",{onClick:t[4]||(t[4]=(...e)=>l.addShopcar&&l.addShopcar(...e)),class:"add-cart"},ne)])])])])):(0,i.kq)("",!0)}var ce={name:"productText",props:["item"],data(){return{skuNum:1}},methods:{changeSkuNum(e){let t=1*e.target.value;isNaN(t)||t<0?this.skuNum=1:this.skuNum=parseInt(t)},async addShopcar(){try{await this.$store.dispatch("productView/addOrUpdateShopCart",{skuId:this.$route.params.id,skuNum:this.skuNum})}catch(e){alert(e.message)}}}};const de=(0,g.Z)(ce,[["render",le],["__scopeId","data-v-3fb7a514"]]);var re=de;const me=e=>((0,i.dD)("data-v-bfaa68da"),e=e(),(0,i.Cn)(),e),ue={class:"similars"},oe=me((()=>(0,i._)("div",{class:"title"},[(0,i._)("span",null,"YOU MAY ALSO LIKE"),(0,i.Uk)("同類商品")],-1))),pe={class:"pic"},_e=["src"],ve={class:"column"},ge={class:"tit"},we={class:"sale"},fe={class:"column"},he={class:"p-before"},ke=me((()=>(0,i._)("span",{class:"line"},"|",-1))),Ie={class:"p-after"};function xe(e,t,s,a,n,l){const c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ue,[oe,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},[(0,i.Wm)(c,{to:`/${e.href}/${e.id}`},{default:(0,i.w5)((()=>[(0,i._)("div",pe,[(0,i._)("img",{src:e.src,alt:""},null,8,_e)]),(0,i._)("div",ve,[(0,i._)("p",ge,(0,h.zw)(e.ti),1),(0,i._)("p",we,(0,h.zw)(e.sale),1)]),(0,i._)("div",fe,[(0,i._)("span",he,(0,h.zw)(e.price),1),ke,(0,i._)("span",Ie,(0,h.zw)(e.special_price),1)])])),_:2},1032,["to"])])))),128))])])}var be={name:"similars",props:{items:{type:Array,required:!0,default:[]}}};const De=(0,g.Z)(be,[["render",xe],["__scopeId","data-v-bfaa68da"]]);var Ce=De;const ye={key:0,class:"tabs"},Ne={class:"items"},Se=["src"],We=["innerHTML"],Ze=["innerHTML"];function $e(e,t,s,a,n,l){return s.item?((0,i.wg)(),(0,i.iD)("div",ye,[(0,i._)("ul",null,[(0,i._)("li",{onClick:t[0]||(t[0]=e=>l.menu(1)),class:(0,h.C_)({active:1==n.itemIndex})},"詳細介紹",2),(0,i._)("li",{onClick:t[1]||(t[1]=e=>l.menu(2)),class:(0,h.C_)({active:2==n.itemIndex})},"使用說明",2),(0,i._)("li",{onClick:t[2]||(t[2]=e=>l.menu(3)),class:(0,h.C_)({active:3==n.itemIndex})},"成分說明",2)]),(0,i._)("div",Ne,[(0,i._)("div",{class:(0,h.C_)(["item",{active:1==n.itemIndex}])},[(0,i._)("img",{src:s.item.introduce,alt:""},null,8,Se)],2),(0,i._)("div",{class:(0,h.C_)(["item",{active:2==n.itemIndex}])},[(0,i._)("div",{innerHTML:s.item.illustrate},null,8,We)],2),(0,i._)("div",{class:(0,h.C_)(["item",{active:3==n.itemIndex}])},[(0,i._)("div",{innerHTML:s.item.element},null,8,Ze)],2)])])):(0,i.kq)("",!0)}var qe={name:"tabs",data(){return{itemIndex:1}},props:["item"],methods:{menu(e){console.log(e),this.itemIndex=e}}};const ze=(0,g.Z)(qe,[["render",$e],["__scopeId","data-v-0a626cb6"]]);var Le=ze;const He=e=>((0,i.dD)("data-v-5b70956f"),e=e(),(0,i.Cn)(),e),Me={class:"recommend"},Te=He((()=>(0,i._)("h3",{class:"title"},"#RECOMMEND",-1))),Ue={class:"public_flex"};function Ve(e,t,s,a,n,l){const c=(0,i.up)("FnProduct");return(0,i.wg)(),(0,i.iD)("div",Me,[Te,(0,i._)("div",Ue,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,item:e},null,8,["item"])))),128))])])}var Ye=s(4456),Ae={name:"recommend",props:{items:{type:Array,required:!0,default:[]}},components:{FnProduct:Ye.Z}};const Be=(0,g.Z)(Ae,[["render",Ve],["__scopeId","data-v-5b70956f"]]);var Ee=Be,Pe=s(65),Ke={name:"productView",mounted(){this.getData()},components:{imgSlide:$,imgZoom:f,productText:re,similars:Ce,tabs:Le,recommend:Ee},computed:{...(0,Pe.Se)("productView",["itemData","linkListData","recommendListData"])},methods:{getData(){this.$store.dispatch("productView/productViewAc",this.$route.params)}},watch:{$route(e,t){console.log("route"),this.getData()}}};const Oe=(0,g.Z)(Ke,[["render",d],["__scopeId","data-v-0822b288"]]);var Fe=Oe}}]);
//# sourceMappingURL=779.js.map