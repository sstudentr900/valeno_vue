"use strict";(self["webpackChunkvaleno_vue"]=self["webpackChunkvaleno_vue"]||[]).push([[317],{5697:function(e,s,a){a.r(s),a.d(s,{default:function(){return De}});var t=a(3396),l=a(9242),r=a(7139);const i=e=>((0,t.dD)("data-v-c9135bb2"),e=e(),(0,t.Cn)(),e),o={key:0,class:"register"},n={class:"topTitle"},d=i((()=>(0,t._)("h3",{class:"title"},"#CREATE AN ACCOUNT",-1))),c={class:"sub-tit"},m=(0,t.Uk)("歡迎光臨，如果您是新會員，請填寫下面的表單進行註冊。如果您已經是本站的會員，請直接 "),u=(0,t.Uk)("登入"),v={class:"cart_box"},p={class:"public_form"},f={class:"half"},_={class:"form-row"},g=i((()=>(0,t._)("div",{class:"tit"},[(0,t.Uk)("設定帳號"),(0,t._)("span",{class:"must"},"*")],-1))),h={class:"content"},w={key:0,class:"error"},k={class:"form-row"},y=i((()=>(0,t._)("div",{class:"tit"},[(0,t.Uk)("設定密碼"),(0,t._)("span",{class:"must"},"*")],-1))),b={class:"content"},U={key:0,class:"error"},z={class:"form-row"},V=i((()=>(0,t._)("div",{class:"tit"},[(0,t.Uk)("確認密碼"),(0,t._)("span",{class:"must"},"*")],-1))),D={class:"content"},C={key:0,class:"error"},x={class:"half"},I={class:"form-row"},q=i((()=>(0,t._)("div",{class:"tit"},[(0,t.Uk)("註冊姓名"),(0,t._)("span",{class:"must"},"*")],-1))),A={class:"content"},$={class:"public_col-2"},S={class:"radios"},M={class:"radio"},E=i((()=>(0,t._)("span",null,[(0,t._)("i")],-1))),O=(0,t.Uk)(" 先生"),T={class:"radio"},F=i((()=>(0,t._)("span",null,[(0,t._)("i")],-1))),G=(0,t.Uk)(" 小姐"),H={key:0,class:"error"},K={key:1,class:"error"},N={class:"form-row"},W=i((()=>(0,t._)("div",{class:"tit"},[(0,t.Uk)("連絡電話"),(0,t._)("span",{class:"must"},"*")],-1))),Y={class:"content"},Z={key:0,class:"error"},j={class:"form-row"},P=i((()=>(0,t._)("div",{class:"tit"},[(0,t.Uk)("連絡地址"),(0,t._)("span",{class:"must"},"*")],-1))),R={class:"content"},B={class:"public_col-3"},J=["value"],L={key:0,class:"error"},Q=["value"],X={key:0,class:"error"},ee={key:0,class:"error"},se={key:0,class:"error"},ae={class:"public_form"},te={class:"half"},le={class:"content checkDiv"},re={class:"check"},ie=i((()=>(0,t._)("span",null,null,-1))),oe=(0,t.Uk)("  我要收到IMAKEGO好康活動電子報 "),ne={key:0,class:"error"},de={class:"content checkDiv"},ce={class:"check"},me=i((()=>(0,t._)("span",null,null,-1))),ue=(0,t.Uk)("  我已詳細閱讀 "),ve=i((()=>(0,t._)("a",{href:"#",class:"terms"},"會員條款",-1))),pe={key:0,class:"error"},fe=i((()=>(0,t._)("div",{class:"half"},[(0,t._)("div",{class:"public_buttons"},[(0,t._)("button",{class:"btns",title:"確認送出"},"確認送出")])],-1))),_e={key:1,class:"register public_flexContent"},ge={class:"topTitle"},he=i((()=>(0,t._)("h3",{class:"title"},"#您已註冊成功",-1))),we={class:"sub-tit"},ke=(0,t.Uk)("登入");function ye(e,s,a,i,ye,be){const Ue=(0,t.up)("router-link"),ze=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)(t.HY,null,[ye.registerIf?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",n,[d,(0,t._)("p",c,[m,(0,t.Wm)(Ue,{to:"/login",title:"登入"},{default:(0,t.w5)((()=>[u])),_:1})])]),(0,t._)("div",v,[(0,t.Wm)(ze,{onSubmit:(0,l.iM)(be.onSubmit,["prevent"])},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t._)("div",f,[(0,t._)("div",_,[g,(0,t._)("div",h,[(0,t.wy)((0,t._)("input",{name:"account",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>ye.from.account.value=e),placeholder:"請輸入帳號",onChange:s[1]||(s[1]=e=>be.formIsValid("account"))},null,544),[[l.nr,ye.from.account.value]]),ye.from.account.msg?((0,t.wg)(),(0,t.iD)("div",w,(0,r.zw)(ye.from.account.msg),1)):(0,t.kq)("",!0)])]),(0,t._)("div",k,[y,(0,t._)("div",b,[(0,t.wy)((0,t._)("input",{name:"password",type:"password","onUpdate:modelValue":s[2]||(s[2]=e=>ye.from.password.value=e),placeholder:"請輸入密碼",onChange:s[3]||(s[3]=e=>be.formIsValid("password"))},null,544),[[l.nr,ye.from.password.value]]),ye.from.password.msg?((0,t.wg)(),(0,t.iD)("div",U,(0,r.zw)(ye.from.password.msg),1)):(0,t.kq)("",!0)])]),(0,t._)("div",z,[V,(0,t._)("div",D,[(0,t.wy)((0,t._)("input",{name:"password1",type:"password","onUpdate:modelValue":s[4]||(s[4]=e=>ye.from.password1.value=e),placeholder:"請輸入確認密碼",onChange:s[5]||(s[5]=e=>be.formIsValid("password1"))},null,544),[[l.nr,ye.from.password1.value]]),ye.from.password1.msg?((0,t.wg)(),(0,t.iD)("div",C,(0,r.zw)(ye.from.password1.msg),1)):(0,t.kq)("",!0)])])]),(0,t._)("div",x,[(0,t._)("div",I,[q,(0,t._)("div",A,[(0,t._)("div",$,[(0,t.wy)((0,t._)("input",{name:"name",type:"text","onUpdate:modelValue":s[6]||(s[6]=e=>ye.from.name.value=e),placeholder:"請輸入姓名",onChange:s[7]||(s[7]=e=>be.formIsValid("name"))},null,544),[[l.nr,ye.from.name.value]]),(0,t._)("div",S,[(0,t._)("label",M,[(0,t.wy)((0,t._)("input",{type:"radio",value:"m",name:"sex","onUpdate:modelValue":s[8]||(s[8]=e=>ye.from.sex.value=e)},null,512),[[l.G2,ye.from.sex.value]]),E,O]),(0,t._)("label",T,[(0,t.wy)((0,t._)("input",{type:"radio",value:"w",name:"sex","onUpdate:modelValue":s[9]||(s[9]=e=>ye.from.sex.value=e)},null,512),[[l.G2,ye.from.sex.value]]),F,G])])]),ye.from.name.msg?((0,t.wg)(),(0,t.iD)("div",H,(0,r.zw)(ye.from.name.msg),1)):(0,t.kq)("",!0),ye.from.sex.msg?((0,t.wg)(),(0,t.iD)("div",K,(0,r.zw)(ye.from.sex.msg),1)):(0,t.kq)("",!0)])]),(0,t._)("div",N,[W,(0,t._)("div",Y,[(0,t.wy)((0,t._)("input",{type:"text",name:"phone","onUpdate:modelValue":s[10]||(s[10]=e=>ye.from.phone.value=e),placeholder:"請輸入手機",onChange:s[11]||(s[11]=e=>be.formIsValid("phone"))},null,544),[[l.nr,ye.from.phone.value]]),ye.from.phone.msg?((0,t.wg)(),(0,t.iD)("div",Z,(0,r.zw)(ye.from.phone.msg),1)):(0,t.kq)("",!0)])]),(0,t._)("div",j,[P,(0,t._)("div",R,[(0,t._)("div",B,[(0,t._)("div",null,[(0,t.wy)((0,t._)("select",{name:"city","onUpdate:modelValue":s[12]||(s[12]=e=>ye.from.city.value=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.districts,((e,s)=>((0,t.wg)(),(0,t.iD)("option",{key:s,value:s},(0,r.zw)(e.name),9,J)))),128))],512),[[l.bM,ye.from.city.value]]),ye.from.city.msg?((0,t.wg)(),(0,t.iD)("div",L,(0,r.zw)(ye.from.city.msg),1)):(0,t.kq)("",!0)]),(0,t._)("div",null,[(0,t.wy)((0,t._)("select",{name:"dist","onUpdate:modelValue":s[13]||(s[13]=e=>ye.from.area.value=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(be.areas,((e,s)=>((0,t.wg)(),(0,t.iD)("option",{key:s,value:s},(0,r.zw)(e.name),9,Q)))),128))],512),[[l.bM,ye.from.area.value]]),ye.from.area.msg?((0,t.wg)(),(0,t.iD)("div",X,(0,r.zw)(ye.from.area.msg),1)):(0,t.kq)("",!0)]),(0,t._)("div",null,[(0,t.wy)((0,t._)("input",{type:"text",name:"zip",placeholder:"郵遞區號","onUpdate:modelValue":s[14]||(s[14]=e=>ye.from.zip.value=e),onChange:s[15]||(s[15]=e=>be.formIsValid("zip"))},null,544),[[l.nr,ye.from.zip.value]]),ye.from.zip.msg?((0,t.wg)(),(0,t.iD)("div",ee,(0,r.zw)(ye.from.zip.msg),1)):(0,t.kq)("",!0)])]),(0,t.wy)((0,t._)("input",{type:"text",name:"address",placeholder:"請輸入地址","onUpdate:modelValue":s[16]||(s[16]=e=>ye.from.address.value=e),onChange:s[17]||(s[17]=e=>be.formIsValid("address"))},null,544),[[l.nr,ye.from.address.value]]),ye.from.address.msg?((0,t.wg)(),(0,t.iD)("div",se,(0,r.zw)(ye.from.address.msg),1)):(0,t.kq)("",!0)])])])]),(0,t._)("div",ae,[(0,t._)("div",te,[(0,t._)("div",le,[(0,t._)("label",re,[(0,t.wy)((0,t._)("input",{type:"checkbox","onUpdate:modelValue":s[18]||(s[18]=e=>ye.from.receiveActivity.value=e)},null,512),[[l.e8,ye.from.receiveActivity.value]]),ie,oe]),ye.from.receiveActivity.msg?((0,t.wg)(),(0,t.iD)("div",ne,(0,r.zw)(ye.from.receiveActivity.msg),1)):(0,t.kq)("",!0)]),(0,t._)("div",de,[(0,t._)("label",ce,[(0,t.wy)((0,t._)("input",{type:"checkbox","onUpdate:modelValue":s[19]||(s[19]=e=>ye.from.checked.value=e)},null,512),[[l.e8,ye.from.checked.value]]),me,ue,ve]),ye.from.checked.msg?((0,t.wg)(),(0,t.iD)("div",pe,(0,r.zw)(ye.from.checked.msg),1)):(0,t.kq)("",!0)])]),fe])])),_:1},8,["onSubmit"])])])),ye.registerIf?((0,t.wg)(),(0,t.iD)("div",_e,[(0,t._)("div",ge,[he,(0,t._)("p",we,[(0,t.Uk)("畫面將在"+(0,r.zw)(ye.time)+"秒鐘後自動跳轉.... ",1),(0,t.Wm)(Ue,{to:"/login",title:"登入"},{default:(0,t.w5)((()=>[ke])),_:1})])])])):(0,t.kq)("",!0)],64)}var be=a(65),Ue={name:"register",components:{},mounted(){this.$store.dispatch("register/districtsAc")},data(){return{time:0,registerIf:!1,from:{receiveActivity:{value:!1,msg:"",valid:!1},checked:{value:!1,msg:"",valid:!0},account:{value:"",msg:"",valid:!0},city:{value:0,msg:"",valid:!1},area:{value:0,msg:"",valid:!1},password:{value:"",msg:"",valid:!0},password1:{value:"",msg:"",valid:!0},name:{value:"",msg:"",valid:!0},sex:{value:"m",msg:"",valid:!1},phone:{value:"",msg:"",valid:!0},zip:{value:"",msg:"",valid:!0},address:{value:"",msg:"",valid:!0}}}},computed:{...(0,be.rn)("register",["districts"]),areas(){return 0===Object.keys(this.districts).length?[]:(this.from.zip.value=this.districts[this.from.city.value].districts[this.from.area.value].zip,this.districts[this.from.city.value].districts)}},methods:{countdown(e=5){return new Promise(((s,a)=>{let t=null,l=1e3*e,r=0,i=0,o=this,n=function(a){null===t&&(t=a),r=a-t,i=Math.floor(r/1e3),r<l?requestAnimationFrame(n):(i=e,s()),o.time=e-i};requestAnimationFrame(n)}))},getCode(){const{phone:e}=this;e||console.log("電話沒有填"),e&&this.$store.dispatch("user/getCode",e).then((()=>{this.getCodeIf=!0,this.countdown(30).then((()=>{this.getCodeIf=!1})),this.verificationCode=this.$store.state.user.codeNumber}))},validate_account(e){const s=/\S+@\S+\.\S+/;let a="";return e?s.test(e)||(a="格式錯誤"):a="請輸入會員帳號",a},validate_password(e){const s=/^[a-zA-Z0-9]+$/,a=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,15}$/;let t="";return e?s.test(e)?e.length<6?t="請勿少於6個字":e.length>15?t="請勿超過15個字":a.test(e)||(t="至少包括一個大小寫字母或數字"):t="請勿包含特殊字元":t="請輸入會員密碼",t},validate_password1(e){let s="";return e?e!=this.from.password.value&&(s="密碼不一樣"):s="請輸入會員密碼",s},validate_name(e){let s="";return e?e.length<2?s="請勿少於2個字":e.length>15&&(s="請勿超過15個字"):s="請輸入會員姓名",s},validate_phone(e){const s=/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g;let a="";return e?s.test(e)||(a="格式錯誤"):a="請輸入連絡電話",a},validate_address(e){let s="";return e||(s="請輸入聯絡地址"),s},validate_zip(e){let s="";return e||(s="請輸入郵遞區號"),s},validate_checked(e){let s="";return e||(s="請勾選條款"),s},formIsValid(e){this.from[e].msg=this["validate_"+e](this.from[e].value)},formIsAllValid(){let e=Object.entries(this.from);return e.forEach((([e,s])=>{s.valid&&(s.msg=this["validate_"+e](s.value))})),e.find((([e,s])=>s.valid&&""!=s.msg?1:0))},onSubmit(e){this.formIsAllValid()||this.$store.dispatch("user/register",this.from).then((()=>(this.registerIf=!0,this.countdown(5)))).then((()=>{this.$router.push("/login")}))}}},ze=a(89);const Ve=(0,ze.Z)(Ue,[["render",ye],["__scopeId","data-v-c9135bb2"]]);var De=Ve}}]);